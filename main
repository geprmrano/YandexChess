from androidhelper import sl4a
import time
from haversine import haversine, Unit
from geographiclib.geodesic import Geodesic

droid = sl4a.Android() 
while True: 
    droid.startLocating() 
    droid.eventWaitFor('location', int(9000)) 
    location = droid.readLocation().result 
    if len(location) > 0:
        print('Сбор данных', end='')
        time.sleep(2)
        print('.', end='')
        time.sleep(2)
        print('.', end='')
        time.sleep(2)
        print('.')
        if 'network' in location:
            time.sleep(5)
            print('Расшифровка данных', end='')
            time.sleep(2)
            print('.', end='')
            time.sleep(2)
            print('.', end='')
            time.sleep(2)
            print('.')
            time.sleep(5)
            print('[1] Latitude:', location['network']['latitude'])
            time.sleep(2)
            print('[2] Longitude:', location['network']['longitude'])
            exit()
        else:
            print('Мы не можем получить данные со спутника. Вам следует выйти на более открытую местность и попробовать снова.')
    droid.stopLocating()
